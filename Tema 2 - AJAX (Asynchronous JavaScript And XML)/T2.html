<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 2 - AJAX</title>
    <meta name="description" content="¡Hola! Y bienvenido.">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <link rel="stylesheet" href="../estiloEjercicios.css">
</head>
<body>
    <div class="titulo">
        <h1>Ejercicios del Módulo de DWEC</h1>
    </div>
        <main>
            <h2><code class="code-AnexosTemas">Tema 2</code> - AJAX (Asynchronous JavaScript And XML)</h2>
            <div class="contenedor">
                <section class="seccionPrincipal">
                    <h3>Ejercicios del Segundo Bloque - AJAX</h3>
                    <div class="anexosYejercicios">
                        <ul>
                            <li><a href="1.%20Introducción%20a%20AJAX/A1.html">Anexo 1 - Programación básica con AJAX</a></li>
                            <li><a href="#">Anexo 2 - AJAX Avanzado</a></li>
                        </ul>
                    </div> <!--contenidoAnexos-->
                </section>
                <aside class="menuDerecho">
                    <section>
                    <h4>Menú</h4>
                    <h5>Accesos directos a los temas</h5>
                        <div class="anexosYejerciciosAside">
                            <ul>
                                <li><a href="../Tema 1 - JavaScript (La base de la programacion web)/T1.html">Tema 1 - JavaScript</a></li>
                                <li><a href="#">Tema 2 - AJAX</a></li>
                                <li><a href="../Tema%203%20-%20JQuery/T3.html">Tema 3 - JQuery</a></li>
                            </ul>
                        </div> <!--contenidoAnexos-->
                    </section>
                    <div class="volver"><a href="../index.html">Volver</a></div>
                </aside>
            </div>
            <section>
                <h3 class="tituloConLineaDivisoria">Teoría AJAX</h3>
                <h4>¿Qué es <code class="code-AnexosTemas">AJAX</code></h4>
                <p>
                    En la actualidad casi todas las páginas web son interactivas, pudiéndose establecer
                    una comunicación entre el usuario y el recurso recibido, produciéndose un diálogo
                    entre el cliente y el servidor. Esta comunicación se puede hacer de dos formas: de
                    modo síncrono, que es el que hemos usado hasta ahora, y el modo asíncrono, que
                    actualmente es el más utilizado debido a la popularidad de tecnologías como Ajax.
                </p>

                <p>Vamos a ver en qué consiste cada uno de estos modos de comunicación:</p>

                <h5>Método de comunicación síncrono</h5>
                <p>
                    Cuando estamos trabajando en este método, el navegador espera la respuesta del servidor
                    hasta que nos devuelve el código HTML y se muestra la página solicitada. El tiempo de
                    respuesta es mayor y a veces la sensación de espera es un poco molesta, porque el
                    ordenador permanece bloqueado hasta que el servidor responde. Si son pocas las llamadas
                    que debemos solicitar, puede no ser un problema, pero si hay que recibir muchas respuestas
                    del servidor y recargarse muchas veces la página, no es el modo de comunicación apropiado.
                </p>

                <h5>Método de comunicación asíncrono</h5>
                <p>Este es el modo de respuesta más en auge actualmente, debido al problema comentado que
                    puede tener el método síncrono. La comunicación asíncrona permite recargar solo una parte
                    de la página sin que el resto de la página web pierda su funcionalidad. Esto ayuda a que
                    las aplicaciones web tengan un aspecto similar a las de escritorio, que es lo que se
                    pretende en la actualidad.
                </p>

                <h5>Ajax</h5>
                <p>Ajax es una tecnología basada en un conjunto de tecnologías ya conocidas para trabajar
                    en desarrollo web. Los datos se solicitan al servidor y se cargan en segundo plano sin
                    interferir en la visualización ni en el comportamiento de la página.</p>

                <p>
                    Ajax no es un lenguaje nuevo de programación, sino una combinación de cuatro tecnologías existentes:
                </p>
                <ul>
                    <li><strong>XHTML y CSS:</strong> para la presentación de la página web.</li>
                    <li><strong>DOM:</strong> para la visualización y acceso dinámico de los datos.</li>
                    <li><strong>XML y XSLT:</strong> para el intercambio y transformación de datos.</li>
                    <li><strong>XMLHttpRequest:</strong> para establecer la comunicación asíncrona con el servidor.</li>
                    <li><strong>JavaScript:</strong> para efectuar las funciones de llamada de Ajax.</li>
                </ul>
                <section>
                    <h3 class="tituloConLineaDivisoria"><code class="code-AnexosTemas">*</code> - <u>Teoría Anexo 1</u> - <code class="code-AnexosTemas">*</code></h3>
                    <p>
                        Veamos un ejemplo para tomarlo más claro <a href="Ejemplo1-A1.html">aquí</a>. Código base:
                    </p>
                    <blockquote class="code-quote">
                        html
                        <pre><code class="code-pre">
<span class="tag">&lt;html&gt;</span>
    <span class="tag">&lt;head&gt;</span>
        <span class="tag">&lt;meta</span> charset<span class="value">="UTF-8"</span><span class="tag">&gt;</span>
        <span class="tag">&lt;title&gt;</span>Ejemplo con Ajax<span class="tag">&lt;/title&gt;</span>
        <span class="tag">&lt;script</span> type<span class="value">="text/javascript"</span><span class="tag">&gt;</span>
            <span class="keyword">let</span> <span class="string">XMLHttpRequestObject</span> = <span class="keyword">false</span>
            <span class="keyword">if</span> (<span class="string">window</span>.<span class="attr">XMLHttpRequest</span>) {
                <span class="string">XMLHttpRequestObject</span> = <span class="keyword">new</span> <span class="attr">XMLHttpRequest</span>();
            } <span class="keyword">else if</span> (<span class="string">window</span>.<span class="attr">ActiveXObject</span>) {
                <span class="string">XMLHttpRequestObject</span> = <span class="keyword">new</span> <span class="attr">ActiveXObject</span>(<span class="value">"Microsoft.XMLHTTP"</span>);

            <span class="keyword">function</span> <span class="attr">sacardatos</span>(datos, idDiv) {
                <span class="keyword">if</span> (<span class="string">XMLHttpRequestObject</span>) {
                    <span class="keyword">let</span> objeto = <span class="string">document</span>.<span class="attr">getElementById</span>(idDiv);
                    <span class="string">XMLHttpRequestObject</span>.<span class="attr">open</span>(<span class="value">"GET"</span>, datos);
                    <span class="string">XMLHttpRequestObject</span>.<span class="attr">onreadystatechange</span> = <span class="keyword">function</span>() {
                        <span class="keyword">if</span> (<span class="string">XMLHttpRequestObject</span>.<span class="attr">readyState</span> === <span class="number">4</span> && <span class="string">XMLHttpRequestObject</span>.<span class="attr">status</span> === <span class="number">200</span>) {
                            objeto.<span class="string">innerHTML</span> = <span class="string">XMLHttpRequestObject</span>.<span class="string">responseText</span>;
                        }

                    <span class="string">XMLHttpRequestObject</span>.<span class="attr">send</span>(<span class="keyword">null</span>);
                }
            }
        <span class="tag">&lt;/script&gt;</span>
    <span class="tag">&lt;/head&gt;</span>
    <span class="tag">&lt;body&gt;</span>
        <span class="tag">&lt;h1&gt;</span>Mostrar Fichero de Texto en Ajax<span class="tag">&lt;/h1&gt;</span>
        <span class="tag">&lt;form&gt;</span>
            <span class="tag">&lt;input</span> type<span class="value">="button"</span> value<span class="value">="Mostrar Fichero"</span> onclick<span class="value">="</span><span class="attr">sacardatos</span>(<span class="value">'datos.txt'</span>,<span class="value">'contenedor'</span>)<span class="value">"</span><span class="tag">&gt;</span>
        <span class="tag">&lt;/form&gt;</span>
        <span class="tag">&lt;div</span> id<span class="value">="contenedor"</span> style<span class="value">="</span>background-color:<span class="attr">#99FF66</span>;<span class="value">"</span><span class="tag">&gt;</span>
            <span class="tag">&lt;p&gt;</span>Mostrará el contenido del fichero<span class="tag">&lt;/p&gt;</span>
        <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
                    </blockquote>
                    <p>
                        En este ejemplo mostramos de forma asíncrona el contenido de un fichero de texto que tenemos
                        alojado en un servidor. Para que funcione, es necesario tener un fichero llamado datos.txt
                        en el mismo directorio en el que estará la página html del ejemplo. El texto del fichero por
                        ejemplo puede ser simplemente un saludo “Hola a todos”.
                    </p>
                </section>
            </section>
        </main>
        <footer>
            <p>Samuel Aded Santafé - DWEC &copy;</p>
            <p>Todos los derechos reservados</p>
        </footer>
    </body>
</html>